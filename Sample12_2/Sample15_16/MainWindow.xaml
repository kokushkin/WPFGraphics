<Window x:Class="Sample15_16.MainWindow"
        Name="window"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Sample15_16"
        mc:Ignorable="d"
        Title="CachingTest" Height="600" Width="800">
    <Window.Resources>
        <local:ArithmeticConverter x:Key="converter"></local:ArithmeticConverter>
    </Window.Resources>

    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation Storyboard.TargetProperty="(Canvas.Left)" Storyboard.TargetName="rect" AutoReverse="True" RepeatBehavior="Forever"
                To="{Binding ElementName=window,Path=Width,Converter={StaticResource converter},ConverterParameter=-100}"
                               Duration="0:0:15"></DoubleAnimation>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </Window.Triggers>
    <Grid Margin="5">
        <Grid.RowDefinitions>
            <RowDefinition></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>

        <Canvas Name="canvas">
            <Path Name="pathBackground"  Data="M200,210 C355,315 504.01227,90.23212 354.5,314.5 274.5,434.49972 434.49993,389.5 434.49993,389.5 L554.49991,214.50001 454.49991,119.49989 294.49997,159.49994 169.50001,374.5002 564.49987,384.50021 744.49982,79.499845 109.50004,54.499817 84.500047,399.50023 564.49988,514.50039 684.49984,364.50019 594.49987,144.49992 134.50003,514.50037 44.50006,299.50011 214.5,149.49993 520.41815,107.01123 574.49988,99.499871 719.49983,219.50001 C719.49983,219.50001 720.02347,232.06747 720.89102,251.57053 723.81465,317.29596 730.64398,461.78863 734.49982,469.50031 736.04807,472.59681 695.88731,478.09038 639.69944,484.19962 514.43095,497.81991 309.49997,514.50037 309.49997,514.50037 L204.57228,512.40181 59.500056,509.50036 184.50001,109.49988 634.49986,369.50019 594.49987,49.499811 34.500065,54.499815 54.500058,234.50003 734.49982,179.49996 704.49983,39.499797 749.29137,375.4369 764.49981,489.50034 509.4999,449.50029 274.49998,489.50034 39.500063,459.5003 259.49999,309.50012 164.50002,299.50011 29.500067,259.50006 309.49997,84.499852 429.49993,169.49995 439.49993,314.50013 529.4999,354.50017 584.49988,409.50024 674.49985,409.50024&#xD;&#xA;764.49982,244.50004 750.09109,132.11184 747.46855,111.65596 739.49983,49.49981 719.49983,524.50038 34.500065,419.50024 134.50003,84.499851 409.49994,89.499856 514.4999,239.50003 589.49988,269.50007 494.49991,409.50023 384.49995,449.50028 279.49998,314.50012 229.5,394.50021 149.50003,349.50016 34.500065,369.50018 39.500063,494.50033 419.49993,524.50037 564.49988,429.50025 704.49984,434.50026 674.49985,289.50009 774.49981,324.50013 759.49415,297.09844&#xD;&#xA;659.49986,114.49989 769.49982,79.499845 369.49995,259.50006 169.50002,254.50005 319.49997,419.50024 19.50007,324.50013 19.50007,519.50036 504.49991,519.50036 419.49994,339.50015 19.500071,34.499792 779.49982,109.49988 654.49986,44.499802 674.49985,254.50005 354.49996,449.50028 179.50002,404.50023 294.49998,284.50008 539.4999,409.50023 604.49988,524.50037 769.49982,514.50035 764.49982,354.50017 259.49999,29.499784 149.50003,24.499779 439.49993,9.4997611&#xD;&#xA;599.49988,19.499773 624.49987,44.499803 749.49983,9.4997616 549.49989,129.4999 234.5,99.499867 289.49998,124.4999 249.49999,184.49997 79.500051,194.49998 34.500066,204.49999 49.500061,79.499844 74.500052,4.4997557 204.50001,104.49987 379.49995,169.49995 549.49989,149.49993 499.49991,99.499867 399.49994,19.499773 774.49982,29.499785 699.49984,264.50006 529.4999,274.50007 499.49991,264.50006 464.49992,304.50011 419.49994,304.50011 259.49999,279.50008&#xD;&#xA;174.50002,279.50008 19.500071,289.50009 579.49988,529.50037 264.49999,469.5003 654.49986,374.50019 684.49985,449.50027 769.49982,339.50015 769.49982,289.50009 374.49995,359.50017 174.50002,324.50013 159.50002,399.50022 34.500066,344.50015 9.5000739,239.50003 159.50002,254.50005 354.49996,34.499791 539.4999,29.499785 624.49987,54.499814 29.500067,14.499767 594.49988,219.50001 769.49982,149.49992 704.49984,379.50019 744.49983,529.50037 524.4999,424.50024&#xD;&#xA;149.50003,459.50028 39.500063,504.50034 334.49997,494.50033 649.49986,339.50015 94.500045,74.499837 19.50007,74.499837 634.49987,114.49988 764.49982,14.499767 694.49985,339.50015 154.50003,264.50006 14.500072,309.50011 679.49985,529.50037 54.500058,409.50023 709.49984,459.50028 34.500065,274.50007 744.49983,419.50024 129.50003,149.49992 689.49985,134.49991 29.500067,509.50034 14.500072,534.50037 769.49982,539.50037 9.5000734,439.50025 749.49983,444.50026&#xD;&#xA;9.5000734,294.50009" Height="536" Canvas.Left="9.5" Stretch="Fill" Stroke="DarkRed" StrokeThickness="1" Canvas.Top="4.5" Width="771"/>
            <Rectangle Name="rect" Canvas.Left="10" Canvas.Top="100" Fill="Blue" Width="75" Height="75">
            </Rectangle>
        </Canvas>

        <CheckBox Grid.Row="2" x:Name="chkCache" Content="Enable Caching"
		 IsChecked="False" Click="chkCache_Click"></CheckBox>
    </Grid>
</Window>
